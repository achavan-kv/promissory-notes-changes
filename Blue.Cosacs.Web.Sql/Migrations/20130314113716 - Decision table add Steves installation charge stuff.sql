INSERT INTO Config.DecisionTable
        ( [Key], CreatedUtc, Value )
VALUES  ( 'SR.DecisionTable.Workflow', -- Key - varchar(50)
          GETDATE(), -- CreatedUtc - datetime
'{
  "conditions": [
    {
      "expression": "this.srType"
    },
    {
      "expression": "this.serviceRequest.Type"
    },
    {
      "expression": "!isEmpty(this.serviceRequest.WarrantyContractNumber)"
    },
    {
      "expression": "((new Date(+this.serviceRequest.ItemSoldOn +\n (new Date((365.25/12)*(24*3600*1000)) *\n (this.serviceRequest.WarrantyLength || 0) ))) >= (new Date()))"
    },
    {
      "expression": "this.serviceRequest.Id === 0"
    },
    {
      "expression": "this.CustomerSearch.Type === ''Invoice''"
    },
    {
      "expression": "this.serviceRequest.ResolutionPrimaryCharge"
    },
    {
      "expression": "this.serviceRequest.ResolutionPrimaryCharge === ''Deliverer'' || this.serviceRequest.ResolutionPrimaryCharge === ''Supplier''"
    },
    {
      "expression": "(this.serviceRequest.ResolutionPrimaryCharge === ''Deliverer'' || this.serviceRequest.ResolutionPrimaryCharge === ''Customer'') &&  this.OutstandingBalance > 0"
    },
    {
      "expression": "this.isItemBer"
    }
  ],
  "actions": [
    {
      "expression": "this.sections.screen.visible = true"
    },
    {
      "expression": "this.sections.pageHeading.visible = false"
    },
    {
      "expression": "this.sections.searchSelectorInput.visible = true"
    },
    {
      "expression": "this.sections.searchSelectorInput.visible = false"
    },
    {
      "expression": "this.sections.customer.visible = true"
    },
    {
      "expression": "this.sections.customer.visible = false"
    },
    {
      "expression": "this.sections.evaluation.visible = true"
    },
    {
      "expression": "this.sections.evaluation.visible = false"
    },
    {
      "expression": "this.sections.estimate.visible = true"
    },
    {
      "expression": "this.sections.estimate.visible = false"
    },
    {
      "expression": "this.sections.product.enabled = true"
    },
    {
      "expression": "this.sections.product.enabled = false"
    },
    {
      "expression": "this.sections.product.stockLocationVisible = true"
    },
    {
      "expression": "this.sections.product.stockLocationVisible = false"
    },
    {
      "expression": "this.sections.warranty.visible = true"
    },
    {
      "expression": "this.sections.warranty.visible = false"
    },
    {
      "expression": "this.sections.showPrintInvoice.visible = true"
    },
    {
      "expression": "this.sections.showPrintInvoice.visible = false"
    },
    {
      "expression": "this.sections.foodLoss.visible = true"
    },
    {
      "expression": "this.sections.foodLoss.visible = false"
    },
    {
      "expression": "this.sections.customerDetail.visible = true"
    },
    {
      "expression": "this.sections.customerDetail.visible = false"
    },
    {
      "expression": "this.sections.outOfWarrantyCoverMessage.visible = true"
    },
    {
      "expression": "this.sections.outOfWarrantyCoverMessage.visible = false"
    },
    {
      "expression": "this.sections.formReferenceField.visible = true"
    },
    {
      "expression": "this.sections.formReferenceField.visible = false"
    },
    {
      "expression": "this.sections.branchSearch.visible = true"
    },
    {
      "expression": "this.sections.branchSearch.visible = false"
    },
    {
      "expression": "this.sections.payment.visible = true"
    },
    {
      "expression": "this.sections.payment.visible = false"
    },
    {
      "expression": "this.sections.resolutionSection.supplierVisible = true;\nthis.sections.resolutionSection.delivererVisible = false;\nthis.sections.resolutionSection.productVisible = true;"
    },
    {
      "expression": "this.sections.resolutionSection.delivererVisible = true;\nthis.sections.resolutionSection.supplierVisible = false;\nthis.sections.resolutionSection.productVisible = false;"
    },
    {
      "expression": "this.sections.resolutionSection.supplierVisible = false;\nthis.sections.resolutionSection.delivererVisible = false;\nthis.sections.resolutionSection.productVisible = false;"
    },
    {
      "expression": "chargeTos(this, [''Customer'',''Deliverer'',''EW'',''Internal'',''Supplier'']);"
    },
    {
      "expression": "chargeTos(this, [''Customer'']);"
    },
    {
      "expression": "chargeTos(this, [''Customer'',''Installation Charge Furniture'',''Installation Charge Electrical'']);"
    },
    {
      "expression": "this.sections.product.serviceRetailerVisible = true"
    },
    {
      "expression": "this.sections.finalise.itemReplacedVisible = true;"
    }
  ],
  "rules": [
    {
      "values": [
        "SI",
        null,
        null,
        "",
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        "SE",
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        true,
        false
      ]
    },
    {
      "values": [
        "II",
        "",
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        "IE",
        null,
        "",
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false
      ]
    },
    {
      "values": [
        "S",
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        "SI",
        "",
        "true",
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        "SI",
        null,
        "",
        "true",
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        "SI",
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        true,
        false,
        false,
        false,
        true,
        false,
        true,
        false,
        false,
        true,
        false,
        false,
        true,
        false,
        true,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        "SE",
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        true,
        true,
        false,
        true,
        false,
        true,
        false,
        true,
        false,
        false,
        false,
        true,
        false,
        false,
        true,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false
      ]
    },
    {
      "values": [
        null,
        "II",
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        true,
        false,
        true,
        false,
        true,
        false,
        false,
        true,
        false,
        true,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        "IE",
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        true,
        true,
        false,
        false,
        true,
        false,
        true,
        true,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        "S",
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        true,
        false,
        true,
        false,
        true,
        true,
        false,
        true,
        false,
        false,
        false,
        true,
        false,
        false,
        true,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        null,
        null,
        null,
        "true",
        null,
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        null,
        null,
        null,
        null,
        "true",
        null,
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        "true",
        null
      ],
      "actions": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        "false",
        null
      ],
      "actions": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        null,
        null,
        null,
        null,
        null,
        "Deliverer",
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        null,
        null,
        null,
        null,
        null,
        "Supplier",
        null,
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        "false",
        null,
        null
      ],
      "actions": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false
      ]
    },
    {
      "values": [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        "true"
      ],
      "actions": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true
      ]
    }
  ],
  "extensions": "var isEmpty = function(val) {\n    return _.isEmpty(val);\n};\n\nvar chargeTos = function(scope, list) {\n  if (scope.serviceRequest.ResolutionPrimaryCharge) {\n    return;\n  }\n  scope.MasterData.ServiceChargeTos = list;\n  scope.serviceRequest.ResolutionPrimaryCharge = list[0];\n};"
}
')