﻿@model IList<Blue.Admin.UserSession>
@{ ViewBag.Title = "Active Sessions"; }
<div data-module="admin/sessions" class="row">
    <div class="col-lg-8">
        <div class="row">
            <p class="text-left col-lg-12">There are @Model.Count users online.</p>
        </div>
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th class="col-4">User Name</th>
                    <th class="col-4">Last Request On</th>
                    <th class="col-4">Machine IP Address</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
            @foreach (var session in Model)
            {
                <tr data-userId="@session.Id">
                    <td>@Html.ProfileLink(session.FullName, session.Id)</td>
                    <td>@session.LastRequestOn.ToLocalTime()</td>
                    <td>@session.ClientMachine</td>
                    <td><a class="ui-widget glyph-btn glyphicons action-kill-session bin" href="#" title="Kill Session"></a></td>
                </tr>
            }
            </tbody>
        </table>
    </div>
    <div class="col-lg-4">
    </div>
</div>